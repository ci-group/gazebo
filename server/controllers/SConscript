#Import variable
Import('*')

env.Append(CPPPATH = '#server/controllers')

dirs = ['position2d',
        'laser',
        'camera',
        'factory',
        'gripper',
        'actarray',
        'ptz',
        'opaque',
        'bumper',
        'imu',
        'irarray'
        ]

try:
  env["CCFLAGS"].index('-DHAVE_OPENAL')
  dirs.append("audio")
except ValueError,e:
  garbage = 1

for subdir in dirs :
  SConscript('%s/SConscript' % subdir)

sources = Split('Controller.cc ControllerFactory.cc')

headers.append( 
          ['#/server/controllers/ControllerFactory.hh',
           '#/server/controllers/ControllerStub.hh',
           '#/server/controllers/Controller.hh'
           ] )

#staticObjs.append(env.StaticObject(sources))
sharedObjs.append(env.SharedObject(sources))
